
# Фудграм — Обмен Рецептами

## Описание проекта

**Фудграм** — это платформа, где пользователи могут делиться своими рецептами, добавлять чужие рецепты в избранное и в список покупок, а также подписываться на других пользователей, чтобы следить за их кулинарными новинками.

## Основные возможности

- **Публикация рецептов** с подробным описанием и ингредиентами.
- **Просмотр рецептов** других пользователей.
- **Добавление рецептов в избранное** для быстрого доступа.
- **Сервис «Список покупок»** для создания списка необходимых ингредиентов.
- **Подписки на авторов** для получения обновлений об их новых рецептах.
- **Аутентификация и авторизация** с использованием токенов.

## Роли и права пользователей

- **Анонимный пользователь:**
  - Может просматривать рецепты и страницы пользователей.
  - Не имеет доступа к функционалу добавления рецептов, подписок и списков.

- **Зарегистрированный пользователь:**
  - Может создавать и редактировать свои рецепты.
  - Может добавлять рецепты в избранное и в список покупок.
  - Может подписываться на других пользователей и просматривать свои подписки.
  - Имеет доступ к личному кабинету для управления аккаунтом.

- **Администратор:**
  - Имеет все права зарегистрированного пользователя.
  - Может модерировать рецепты и управлять пользователями.
  - Имеет доступ к административной панели.

## Технологии

- **Python**
- **Django**
- **Django REST Framework**
- **PostgreSQL**
- **Docker**
- **Git**
- **GitHub**
- **Djoser**
- **Flake8**

## Как запустить проект

1. **Клонировать репозиторий и перейти в него в командной строке:**

   ```bash
   git clone git@github.com:ArtemBalanoff/foodgram.git
   cd foodgram/backend
   ```

2. **Создать и активировать виртуальное окружение:**

   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

3. **Установить зависимости из файла `requirements.txt`:**

   ```bash
   python3 -m pip install --upgrade pip
   pip install -r requirements.txt
   ```

4. **Выполнить миграции:**

   ```bash
   python3 manage.py migrate
   ```

5. **Запустить проект:**

   ```bash
   python3 manage.py runserver
   ```

   **Скрипт для загрузки списка ингредиентов:**

   ```bash
   python3 manage.py import_ingredients
   ```

   **Команда для загрузки записей, необходимых для Postman тестов(админ, ингредиенты, теги):**

   ```bash
   python3 manage.py loaddata users_tags_ingredients.json
   ```

## Доступные эндпоинты

### Аутентификация и пользователи

- **POST** `/api/auth/token/login/` — Получение токена для аутентификации.
- **POST** `/api/auth/token/logout/` — Выход из системы (аннулирование токена).
- **GET** `/api/users/` — Получение списка пользователей.
- **GET** `/api/users/me/` — Получение данных своей учетной записи.
- **POST** `/api/users/set_password/` — Изменение пароля.

### Рецепты

- **GET** `/api/recipes/` — Получение списка рецептов с возможностью фильтрации.
- **POST** `/api/recipes/` — Создание нового рецепта.
- **GET** `/api/recipes/{id}/` — Получение детальной информации о рецепте.
- **PATCH** `/api/recipes/{id}/` — Обновление рецепта.
- **DELETE** `/api/recipes/{id}/` — Удаление рецепта.

### Избранное

- **POST** `/api/recipes/{id}/favorite/` — Добавление рецепта в избранное.
- **DELETE** `/api/recipes/{id}/favorite/` — Удаление рецепта из избранного.

### Список покупок

- **POST** `/api/recipes/{id}/shopping_cart/` — Добавление рецепта в список покупок.
- **DELETE** `/api/recipes/{id}/shopping_cart/` — Удаление рецепта из списка покупок.
- **GET** `/api/recipes/download_shopping_cart/` — Скачивание списка покупок в виде файла.

### Подписки

- **GET** `/api/users/subscriptions/` — Получение списка подписок пользователя.
- **POST** `/api/users/{id}/subscribe/` — Подписаться на пользователя.
- **DELETE** `/api/users/{id}/subscribe/` — Отписаться от пользователя.

### Ингредиенты и теги

- **GET** `/api/ingredients/` — Получение списка ингредиентов с возможностью поиска.
- **GET** `/api/ingredients/{id}/` — Получение информации об ингредиенте.
- **GET** `/api/tags/` — Получение списка тегов.
- **GET** `/api/tags/{id}/` — Получение информации о теге.

## Как работать с проектом

### Публикация рецепта

- Перейти на страницу создания рецепта `/api/recipes/`.
- Заполнить необходимые поля: название, ингредиенты, теги, описание и изображение.
- Отправить запрос на создание рецепта.

### Добавление в избранное

- На странице рецепта `/api/recipes/{id}/` нажать кнопку «Добавить в избранное» или отправить запрос на эндпоинт `/api/recipes/{id}/favorite/`.

### Создание списка покупок

- Добавить рецепты в список покупок через эндпоинт `/api/recipes/{id}/shopping_cart/`.
- Список доступен по адресу `/api/recipes/download_shopping_cart/`.

### Подписка на автора

- На странице пользователя `/api/users/{id}/` нажать кнопку «Подписаться» или использовать эндпоинт `/api/users/{id}/subscribe/`.

## Страницы проекта

- **Главная страница** — список рецептов с пагинацией.
- **Страница рецепта** — детальное описание рецепта.
- **Страница пользователя** — информация о пользователе и его рецептах.
- **Страница подписок** — рецепты авторов, на которых подписан пользователь.
- **Избранное** — список избранных рецептов пользователя.
- **Список покупок** — ингредиенты для рецептов из списка покупок.
- **Создание и редактирование рецепта** — формы для добавления или изменения рецепта.
- **Страница входа** — форма аутентификации пользователя.
- **Страница регистрации** — форма для создания нового аккаунта.
- **Страница смены пароля** — изменение пароля пользователя.
- **Статические страницы** — «О проекте» и «Технологии».

## Автор

[Артем Баланов](https://github.com/ArtemBalanoff)
